# Application Name
spring.application.name=project-manager-backend

# ================================
# DataSource Configuration
# ================================
spring.datasource.url=jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
spring.datasource.username=${POSTGRES_USER}
spring.datasource.password=${POSTGRES_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# ================================
# JPA & Hibernate Configuration
# ================================

# Specify the database dialect
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Enable automatic DDL generation (creates schema)
spring.jpa.generate-ddl=true

# Set the schema management strategy: creates schema on start, drops on shutdown
spring.jpa.hibernate.ddl-auto=create-drop

# Specify the type of database
spring.jpa.database=postgresql

# Show SQL statements in logs
spring.jpa.show-sql=true

# Defer JPA initialization until after datasource is fully initialized
spring.jpa.defer-datasource-initialization=true

# Use PostgreSQL dialect explicitly for Hibernate (redundant but OK)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Show SQL with formatting for better readability
spring.jpa.properties.hibernate.format_sql=true

# (Fix) Remove invalid semicolon
# spring.jpa.hibernate.show-sql=true;

# ================================
# SQL Initialization Settings
# ================================

# Always run schema.sql/data.sql on startup
spring.sql.init.mode=always

# Platform name (used to resolve schema-${platform}.sql if present)
spring.sql.init.platform=postgres

# Import environment variables from a .env file (Spring Boot 2.4+)
spring.config.import=optional:file:.env[.properties]

# ================================
# Logging
# ================================
logging.level.org.springframework.security=DEBUG

# ================================
# Application Metadata
# ================================
app.version=1.0.0
